EOE_battle_big_rewards = {
	optimize_memory
	owner = {
		random_list = {
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_1
				}
				set_country_flag = EOE_tech9_1
				add_research_option = tech_EOE_nuclear_star 
				
			}
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_2
				}
				set_country_flag = EOE_tech9_2
				add_research_option = tech_EOE_radioactive_acid
				
			}
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_3
				}
				set_country_flag = EOE_tech9_3
				add_research_option = tech_EOE_fairy_beam 
				
			}
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_4
				}
				set_country_flag = EOE_tech9_4
				add_research_option =tech_EOE_nuclear_beam
				
			}
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_5
				}
				set_country_flag = EOE_tech9_5
				add_research_option = tech_EOE_evolite 
				
			}
		}
	}
}

EOE_battle_medium_rewards = {
	optimize_memory
	owner = {
		random_list = {
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_1
				}
				set_country_flag = EOE_tech9_1
				add_research_option = tech_EOE_nuclear_star 
				
			}
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_2
				}
				set_country_flag = EOE_tech9_2
				add_research_option = tech_EOE_radioactive_acid
				
			}
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_3
				}
				set_country_flag = EOE_tech9_3
				add_research_option = tech_EOE_fairy_beam 
			}
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_4
				}
				set_country_flag = EOE_tech9_4
				add_research_option =tech_EOE_nuclear_beam
				
			}
			1 = { 
				modifier = {
					factor = 0
					has_country_flag = EOE_tech9_5
				}
				set_country_flag = EOE_tech9_5
				add_research_option = tech_EOE_evolite 
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_1
				}
				set_country_flag = EOE_tech7_1
				add_research_option = tech_EOE_bullet_seed
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_2
				}
				set_country_flag = EOE_tech7_2
				add_research_option = tech_EOE_razor_leaf 
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_3
				}
				set_country_flag = EOE_tech7_3
				add_research_option = tech_EOE_double_edge 
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_4
				}
				set_country_flag = EOE_tech7_4
				add_research_option = tech_EOE_flare_blitz
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_5
				}
				set_country_flag = EOE_tech7_5
				add_research_option = tech_EOE_calm_mind
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_6
				}
				set_country_flag = EOE_tech7_6
				add_research_option = tech_EOE_fairy_star
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_7
				}
				set_country_flag = EOE_tech7_7
				add_research_option = tech_EOE_swift 
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_8
				}
				set_country_flag = EOE_tech7_8
				add_research_option = tech_EOE_aurora_beam
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_9
				}
				set_country_flag = EOE_tech7_9
				add_research_option = tech_EOE_thunder_bolt 
				
			}
		}
	}
	
}
EOE_battle_small_rewards = {
	optimize_memory
	owner = {
		random_list = {
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_1
				}
				set_country_flag = EOE_tech7_1
				add_research_option = tech_EOE_bullet_seed
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_2
				}
				set_country_flag = EOE_tech7_2
				add_research_option = tech_EOE_razor_leaf 
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_3
				}
				set_country_flag = EOE_tech7_3
				add_research_option = tech_EOE_double_edge 
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_4
				}
				set_country_flag = EOE_tech7_4
				add_research_option = tech_EOE_flare_blitz
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_5
				}
				set_country_flag = EOE_tech7_5
				add_research_option = tech_EOE_calm_mind
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_6
				}
				set_country_flag = EOE_tech7_6
				add_research_option = tech_EOE_fairy_star
			
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_7
				}
				set_country_flag = EOE_tech7_7
				add_research_option = tech_EOE_swift 
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_8
				}
				set_country_flag = EOE_tech7_8
				add_research_option = tech_EOE_aurora_beam
				
			}
			5 = {
				modifier = {
					factor = 0
					has_country_flag = EOE_tech7_9
				}
				set_country_flag = EOE_tech7_9
				add_research_option = tech_EOE_thunder_bolt 
				
			}
		}
	}
}

EOE_spawn_protoss_shroud_planet = {
	optimize_memory
	random_system = {
		limit = {
			distance = {
				source = root
				min_jumps = 1
				max_jumps = 12
			}
			has_access_fleet = root.owner
			has_owner = no
		}
		random_system_planet = {
			limit = {
				OR = {
					is_planet_class = pc_molten
					is_planet_class = pc_barren
					is_planet_class = pc_barren_cold
					is_planet_class = pc_frozen 
					is_planet_class = pc_toxic
				}
				has_anomaly = no
			}
			change_pc = pc_shrouded
			set_planet_flag = EOE_protoss_shroud_planet
		}
	}
}

EOE_damage_fluctuation = {
	optimize_memory
	reroll_random = yes
	random_list = {
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.9
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.91
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.92
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.93
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.94
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.95
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.96
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.97
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.98
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 0.99
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 1
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 1.01
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 1.02
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 1.03
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 1.04
			}
		}
		1 = {
			multiply_variable = {
				which = EOE_$x$_dmg
				value = 1.05
			}
		}
	}
}
#scope = planet
EOE_use_pokemon = {
	optimize_memory
	hidden_effect = {
		if = {
			limit = { 
				owner = {
					OR = {
						has_ethic = ethic_authoritarian
						has_ethic = ethic_fanatic_authoritarian
					}
				}
			}
			if = {
				limit = { 
					any_owned_pop = {
						is_pokemon = yes
					}
				}
				random_owned_pop = {
					limit = {
						is_pokemon = yes
					}
					kill_pop = yes
				}
			}
			else = {
				random_owned_pop = {
					limit = {
						is_pokemon_2 = yes
					}
					kill_pop = yes
				}
			}
		}
		else = {
			random_owned_pop = {
				limit = {
					is_pokemon = yes
				}
				kill_pop = yes
			}
		}
		
	}
	
}

#
EOE_change_deposit = {
	optimize_memory
	while = {
		limit = {
			has_deposit = d_arid_highlands
		}
		remove_deposit = d_arid_highlands
		add_deposit = d_EOE_arid_highlands
	}
	while = {
		limit = {
			has_deposit = d_hot_springs
		}
		remove_deposit = d_hot_springs
		add_deposit = d_EOE_hot_springs
	}
	while = {
		limit = {
			has_deposit = d_rushing_waterfalls
		}
		remove_deposit = d_rushing_waterfalls
		add_deposit = d_EOE_rushing_waterfalls
	}
	while = {
		limit = {
			has_deposit = d_searing_desert
		}
		remove_deposit = d_searing_desert
		add_deposit = d_EOE_searing_desert
	}
	while = {
		limit = {
			has_deposit = d_frozen_gas_lake
		}
		remove_deposit = d_frozen_gas_lake
		add_deposit = d_EOE_frozen_gas_lake
	}
	while = {
		limit = {
			has_deposit = d_geothermal_vent
		}
		remove_deposit = d_geothermal_vent
		add_deposit = d_EOE_geothermal_vent
	}
	while = {
		limit = {
			has_deposit = d_underwater_vent
		}
		remove_deposit = d_underwater_vent
		add_deposit = d_EOE_underwater_vent
	}
	while = {
		limit = {
			has_deposit = d_tempestous_mountain
		}
		remove_deposit = d_tempestous_mountain
		add_deposit = d_EOE_tempestous_mountain
	}
	while = {
		limit = {
			has_deposit = d_veiny_cliffs
		}
		remove_deposit = d_veiny_cliffs
		add_deposit = d_EOE_veiny_cliffs
	}
	while = {
		limit = {
			has_deposit = d_mineral_fields
		}
		remove_deposit = d_mineral_fields
		add_deposit = d_EOE_mineral_fields
	}
	while = {
		limit = {
			has_deposit = d_prosperous_mesa
		}
		remove_deposit = d_prosperous_mesa
		add_deposit = d_EOE_prosperous_mesa
	}
	while = {
		limit = {
			has_deposit = d_ore_rich_caverns
		}
		remove_deposit = d_ore_rich_caverns
		add_deposit = d_EOE_ore_rich_caverns
	}
	while = {
		limit = {
			has_deposit = d_rich_mountain
		}
		remove_deposit = d_rich_mountain
		add_deposit = d_EOE_rich_mountain
	}
	while = {
		limit = {
			has_deposit = d_submerged_ore_veins
		}
		remove_deposit = d_submerged_ore_veins
		add_deposit = d_EOE_submerged_ore_veins
	}
	while = {
		limit = {
			has_deposit = d_lichen_fields
		}
		remove_deposit = d_lichen_fields
		add_deposit = d_EOE_lichen_fields
	}
	while = {
		limit = {
			has_deposit = d_bountiful_plains
		}
		remove_deposit = d_bountiful_plains
		add_deposit = d_EOE_bountiful_plains
	}
	while = {
		limit = {
			has_deposit = d_rugged_woods
		}
		remove_deposit = d_rugged_woods
		add_deposit = d_EOE_rugged_woods
	}
	while = {
		limit = {
			has_deposit = d_green_hills
		}
		remove_deposit = d_green_hills
		add_deposit = d_EOE_green_hills
	}
	while = {
		limit = {
			has_deposit = d_forgiving_tundra
		}
		remove_deposit = d_forgiving_tundra
		add_deposit = d_EOE_forgiving_tundra
	}
	while = {
		limit = {
			has_deposit = d_boggy_fens
		}
		remove_deposit = d_boggy_fens
		add_deposit = d_EOE_boggy_fens
	}
	while = {
		limit = {
			has_deposit = d_nutritious_mudland
		}
		remove_deposit = d_nutritious_mudland
		add_deposit = d_EOE_nutritious_mudland
	}
	while = {
		limit = {
			has_deposit = d_fungal_caves
		}
		remove_deposit = d_fungal_caves
		add_deposit = d_EOE_fungal_caves
	}
	while = {
		limit = {
			has_deposit = d_lush_jungle
		}
		remove_deposit = d_lush_jungle
		add_deposit = d_EOE_lush_jungle
	}
	while = {
		limit = {
			has_deposit = d_fertile_lands
		}
		remove_deposit = d_fertile_lands
		add_deposit = d_EOE_fertile_lands
	}
	while = {
		limit = {
			has_deposit = d_great_river
		}
		remove_deposit = d_great_river
		add_deposit = d_EOE_great_river
	}
	while = {
		limit = {
			has_deposit = d_black_soil
		}
		remove_deposit = d_black_soil
		add_deposit = d_EOE_black_soil
	}
	while = {
		limit = {
			has_deposit = d_teeming_reef
		}
		remove_deposit = d_teeming_reef
		add_deposit = d_EOE_teeming_reef
	}
	while = {
		limit = {
			has_deposit = d_marvelous_oasis
		}
		remove_deposit = d_marvelous_oasis
		add_deposit = d_EOE_marvelous_oasis
	}
	while = {
		limit = {
			has_deposit = d_tropical_island
		}
		remove_deposit = d_tropical_island
		add_deposit = d_EOE_tropical_island
	}
	while = {
		limit = {
			has_deposit = d_fungal_forest
		}
		remove_deposit = d_fungal_forest
		add_deposit = d_EOE_fungal_forest
	}
	if = {
		limit = { 
			has_modifier = hazardous_weather
		}
		remove_modifier = hazardous_weather
		add_modifier = {
			modifier = EOE_hazardous_weather
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = strong_magnetic_field
		}
		remove_modifier = strong_magnetic_field
		add_modifier = {
			modifier = EOE_strong_magnetic_field
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = asteroid_impacts
		}
		remove_modifier = asteroid_impacts
		add_modifier = {
			modifier = EOE_asteroid_impacts
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = extensive_moon_system
		}
		remove_modifier = extensive_moon_system
		add_modifier = {
			modifier = EOE_extensive_moon_system
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = mineral_rich
		}
		remove_modifier = mineral_rich
		add_modifier = {
			modifier = EOE_mineral_rich
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = ultra_rich
		}
		remove_modifier = ultra_rich
		add_modifier = {
			modifier = EOE_ultra_rich
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = mineral_poor
		}
		remove_modifier = mineral_poor
		add_modifier = {
			modifier = EOE_mineral_poor
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = eat_the_titans
		}
		remove_modifier = eat_the_titans
		add_modifier = {
			modifier = EOE_eat_the_titans
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = asteroid_belt
		}
		remove_modifier = asteroid_belt
		add_modifier = {
			modifier = EOE_asteroid_belt
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = lush_planet
		}
		remove_modifier = lush_planet
		add_modifier = {
			modifier = EOE_lush_planet
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = bleak_planet
		}
		remove_modifier = bleak_planet
		add_modifier = {
			modifier = EOE_bleak_planet
			days = -1
		}
	}
	if = {
		limit = { 
			has_modifier = irradiated_planet
		}
		remove_modifier = irradiated_planet
		add_modifier = {
			modifier = EOE_irradiated_planet
			days = -1
		}
	}
}
EOE_create_othermon_1 = {
	optimize_memory
	capital_scope = {
		create_species = {
			name = "NAME_Othermons_1"
			plural = "Othermons_plural"
			name_list = "MAM1"
			class = Othermons
			portrait = Othermons
			traits = {
				trait = trait_syncretic_proles
				trait = trait_natural_psionic_warrior
				trait = trait_pokeball_adaptability
				trait = trait_EOE_type_advantage
			}
			homeworld = this
		}
	}
}
EOE_create_othermon_2 = {
	optimize_memory
	capital_scope = {
		create_species = {
			name = "NAME_Othermons"
			plural = "Othermons_plural"
			name_list = "MAM1"
			class = Othermons
			portrait = Othermons
			traits = {
				trait = trait_syncretic_proles
				trait = trait_natural_psionic_warrior
				trait = trait_pokeball_adaptability
				trait = trait_EOE_type_advantage
			}
			homeworld = this
		}
	}
}
EOE_change_district = {
	optimize_memory
	while = {
		limit = {
			has_district = district_city
		}
		remove_district = district_city
		add_district = district_EOE_pokemon_city
	}
	while = {
		limit = {
			has_district = district_mining
		}
		remove_district = district_mining
		add_district = district_EOE_pokemon_mining
	}
	while = {
		limit = {
			has_district = district_farming
		}
		remove_district = district_farming
		add_district = district_EOE_pokemon_farming
	}
	while = {
		limit = {
			has_district = district_generator
		}
		remove_district = district_generator
		add_district = district_EOE_pokemon_generator
	}
	while = {
		limit = {
			has_district = district_industrial
		}
		remove_district = district_industrial
		add_district = district_EOE_pokemon_industrial
	}


}
EOE_nolight_deposit = {
	# random_list = {
	# 	1 = { add_deposit = d_society_10 }
	# 	1 = { add_deposit = d_engineering_10 }
	# 	1 = { add_deposit = d_physics_10 }
	# }
}
#留个样板罢了，其实根本没用到
EOE_assimilation_effect = {
	optimize_memory
	random_owned_pop = {
		limit = {
			has_citizenship_type = {
				type = EOE_citizenship_assimilation
				country = root.owner
			}
		}
		if = { # eeveeassimilator
			limit = {
				root.owner = {
					OR = {
					 has_civic = civic_eeveelutions_assimilator
					}
				}
			}
			kill_pop = yes
			root.owner = {
				generate_cyborg_treats = yes #蠢驴你塞效果的地方真阴间东一个西一个哼啊啊啊啊啊啊啊啊啊啊啊啊啊啊
			}
			if = {
				limit = {
					OR = {
						root = {
							OR = {
								is_planet_class = pc_gaia
								is_planet_class = pc_relic
								is_planet_class = pc_city
								is_planet_class = pc_EOE_city
								is_planet_class = pc_EOE_pokemon_gaia
								is_planet_class = pc_machine
								is_planet_class = pc_habitat
								is_planet_class = pc_ringworld_habitable
								is_ideal_planet_class = {
									who = root.owner
									status = yes
								}
							}
						}
						root.owner = {
							has_trait = trait_normal_type_mega_evolution
						}
					}
				}
				root = {
					create_pop = {
						species = root.owner
						ethos = root.owner
					}
					owner = {
						if = {
							limit = { has_ascension_perk = ap_become_the_crisis }
							complete_crisis_objective = crisobj_purge_pops
						}
					}
				}
			}
		}
		else = {
			modify_species = {
				species = root.owner
				ideal_planet_class = root
				effect = {
					save_event_target_as = EOE_assim_species
				}
			}
			root = {
				create_pop = {
					species = event_target:EOE_assim_species
					ethos = root.owner
				}
				owner = {
					if = {
						limit = { has_ascension_perk = ap_become_the_crisis }
						complete_crisis_objective = crisobj_purge_pops
					}
				}
			}
		}
	}
}
